# 饺子白皮书2.0

> 摘要：本文提出了一种完全通过数字通证驱动开源项目的组织形式，它使得参加开源项目的人能直接或者间接获得回报，最大限度的团结开发力量、传播项目的使用、达成对代码和社群的共识。通过多人协作、深耕技术、发掘人才、社群共享等多种形式，让(饺子视频播放器)[https://github.com/Jzvd/JiaoZiVideoPlayer](以下简称饺子)成为运行最稳定、接入最方便、功能最齐全、代码最精炼的安卓视频播放器。

### 简介

饺子视频播放器是开源的安卓视频播放框架，它可以让开发者三五行代码在其App中集成视频播放功能，包含可以直接上线的常见UI和功能，满足全屏、列表、小窗等需求，并且提供了精简的自定义接口可以让开发者实现任何想要的功能和UI，饺子可以通过自定义播放内核以满足用户对不同播放内核的需求。饺子至今开发了五年，收获10000+个start，解决了2500+个issue，100+个pr，累计参与30余位开发者，发布100+个版本，解决开发者的问题不计其数，Library累计被引用10万+次，间接服务千万手机用户。

### Github

Github是世界最大的开源项目聚集地，也是世界程序员精英的所在，越来越多的优秀开发者给开源项目贡献代码，优胜劣汰竞争激烈，用实力说话，用户用自己的实践投票。这里要提出两个自创名词“动态沟通”和“静态沟通”，比如一场演讲，现场的听众是有限的，如果把这场演讲录成视频，随时都会有新的观众看到并且新增观众的成本极低，那么现场演讲是演讲者和观众的动态沟通，把演讲录成视频就是演讲者和观众的静态沟通。如果演讲的主题是普惠思想，那么静态沟通比动态沟通的效率高几个量级。Github就是高效的静态沟通的平台，与其他开发者分享我们的代码和思想，通过最纯粹的表达方式向世界表达我们的想法和态度，高效的展示自己从而获得更多机会。

### 数字通证Token

数字通证是基于共识的可流通的有价值的权益证明。比特币实现了资产转移的自由，以太坊实现了票据证券化自由，基于以太坊的ERC20 Token是数字通证的常见形式，区块链的加密性为通证提供了信任基础。JiaoZiToken（JZT）是基于对饺子的权益证明，它是对饺子付出工作的体现，饺子的工作既包含代码的开发也包含社群运营，只要对饺子的贡献落实到Commit上，就会得到JZT。因为开源项目和数字通证的结合是史无前例的没有参考，我们一起探索JZT的用途。

### 饺子的由来

饺子原名为节操视频播放器，几年前安卓视频播放器市场一片空白找不到功能完整的视频播放器，主要因为全屏功能无法解决，使用最多的做法是全屏时将布局扩大到铺满屏幕，这种做法在复杂布局、列表布局中问题很多，无法使用。经过几天的潜心研究之后发现了安卓中全屏的两种做法，一种是切换MediaPlayer的Surface另一种是移动SurfaceView都能达到在不同Activity之间图像和声音的无缝切换，经过几年的改进全屏功能日趋完善和简洁，饺子作为首款首屈一指功能完善的视频播放器，填补了市场的空白，并且迅速被市场接受。

### 开发者

随着工作的日渐深入和丰富，为了推进常规的开发工作和深入研究复杂的工作，饺子需要更多志同道合的人协作开发，饺子开发者是饺子Token的主要受益者。将饺子拆分成多个模块，确定每个模块的责任编辑，做自己熟悉的事情。

### 社群

饺子广泛用于安卓的视频播放，积累了大量用户，饺子社群多数直接使用过饺子，参与饺子的讨论并影响饺子的发展，几年来饺子社群对饺子的产品质量有非常积极的作用，社群对饺子的开发计划有着举足轻重的地位。团结社群力量，接受社群监督，听取社群意见，发掘技术储备，让饺子社群更好的服务饺子，服务每一位用户的日常工作。

### 价值观

饺子的三个核心价值观

* **1.服务菜鸟。**高效的回应每一个开发者的问题，让每一个问题都能得到回应，提供解决思路让开发者少走弯路，引导用户实现研发需求。整理开发者的问题，通过静态沟通的形式解决绝大多数问题。

* **2.工作优先级：稳定>简单>功能>代码风格。**工作内容要有取舍，即便最牛的人技术最高的人精力再充沛的人投入再多的资源也不可能把所有想象变成现实。运行稳定是第一优先级，没有稳定就没有一切。简单包括**接入简单、维护简单、读懂简单，这是所有代码价值的所在**，我们工作的意义是让别人的工作变得简单。不是所有产品都懂产品，只是个细化工作的工具，功能的优先级也很高，满足用户的日常需求，展示项目的工作能力有着重要的意义。代码风格是一个非常抽象模糊的东西，尽量少讨论，以解决问题为主。

* **3.保证Demo质量。**让Demo展示的内容做到运行稳定，UI合理，可以直接上线。

### 代码风格和审美

饺子分为Library和Demo两个模块，Library是饺子的框架，包含了对视频播放框架必不可少的类，没有项目能像饺子这样代码越写越少。

* JZDataSource是对资源链接的包装，方便在JZVD和MediaPlayer之间传递

* JZMediaInterface是抽象播放内核的接口，通过集成JZMediaInterface实现播放内核。

* JZMediaSystem是继承了JZMediaInterface实现了系统的播放内核。

* JZTextureView是适配视频大小的TextureView。

* JZUtil是方法类。

* Jzvd是播放器的抽象接口，包含了所有播放相关的状态和UI。

* JzvdStd是继承Jzvd实现的完整的播放器。


自定义播放器时首先要继承JzvdStd，通过复写函数取得事件，父类的函数和变量都可调用。这个结构是探索了三年确定下来，展示了我对播放器精髓的理解，我觉得已经无懈可击，是完美的结构，是一种极致的追求。**我觉得写代码的极致追求是审美**、在追求功能的基础上让别人容易读懂，让别人容易上手，让别人看着舒服体现我们最高级的代码水平，否则我们在Github上展示什么呢。

### 总结

作为一名程序员，饺子是最高级的事业，作为一名比特币的持有者，JZT是最高级的追求，饺子正是我们浑浑噩噩日子中的一丝希望，我爸妈都是下岗工人，我不把我的90%都放到区块链里我哪有未来呀，加油吧老铁们奥利给！



2020.06.20 Update  李盼
